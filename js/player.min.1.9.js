(function(){function f(){errorHandlerType=1;this.events=[];this.framerate=this.fps=0;this.parentID=this.webgl=null;this.xmlDoc={};this.xmlLoaded=!1;this.videoSrc=[];this.thumbnail="";this.title="title";this.author="author";this.description="description";this.id=9;this.key=0;this.lang={};this.played=0;this.loop=!1;this.allowFullScreen=!0;this.autoplay=this.autoload=this.playedWithMute=!1;this.lightsoffEnabled=!0;this.autoLightsoff=!1;this.showFullScreenButton=!0;this.showStopButton=!1;this.showOptionButton=
this.showLightsbutton=this.showRating=this.showInfoButton=!0;this.width=480;this.height=320;this.oriWidth=480;this.oriHeight=320;this.winHeight=this.winWidth=0.6;this.lengthUnit="px";this.sound=0.6;this.zIndex=100;this.voteIndex=101;this.controlIndex=102;this.canvasIndex=100;this.statusIndex=101;this.msgIndex=105;this.wrapperIndex=104;this.optionIndex=this.infoIndex=this.threeDIndex=103;this.ratioList=["4/3","16/10","16/9"];this.ratio=null;this.threeDMode=!0;this.playbackRate=33;this.eventTimer=this.drawTimer=
null;this.currentTime=this.downloadTime=this.playedTime=this.durationTime=0;this.context=this.canvas=this.video=this.player=null;this.cleanDiv="<div style='clear:both;'></div>";playerContainerID="playerContainer";voteContainerID="voteContainer";winTitleID="winTitle";winHeaderID="winHeader";winContentID="winContent";winWrapperID="Wrapper";btnContentID="btnContent";btnCheckboxID="btnCheckbox";msgContainerID="msgContainer";msgHeaderID="msgHeader";msgTitleIconID="msgTitleIcon";msgTitleID="msgTitle";msgContainerCloseID=
"msgContainerClose";msgContentID="msg";msgWrapperID="msgContainerWrapper";infoContainerID="infoContainer";infoHeaderID="infoHeader";infoTitleIconID="infoTitleIcon";infoTitleID="infoTitle";infoContainerCloseID="infoContainerClose";infoContentID="info";threeDContainerID="threeDContainer";threeDHeaderID="threeDHeader";threeDTitleIconID="threeDTitleIcon";threeDTitleID="threeDTitle";threeDContainerCloseID="threeDContainerClose";threeDContentID="threeD";optionContainerID="optionContainer";optionHeaderID=
"optionHeader";optionTitleIconID="optionTitleIcon";optionTitleID="optionTitle";optionContainerCloseID="optionContainerClose";optionContentID="options";statusContainerID="statusContainer";videoStatusContainerID="videoStatusConatiner";videoStatusID="videoStatus";canvasElementID="c";videoElementID="video";controlContainerID="controlContainer";progressbarContainerID="progressbarContainer";progressbarBgID="progressBarBg";downloadProgresbarID="downloadProgressBar";playProgressbarID="playProgressBar";slideTimeID=
"slideTime";controlBenchID="control";controlButtomID="controlButtom";soundContainerID="soundContainer";soundButtomID="soundButtom";volumeContainerID="volumeContainer";volumeProgressbarID="volumeProgressBar";slideVolumeID="slideVolume";timeContainerID="timeContainer";timeSepraterID="timeSeprater";durationTimeID="durationTime";playedTimeID="playedTime";functionContainerID="functionContainer";lightButtomID="lightButtom";fullScreenButtomID="fullScreenButtom";infoButtomID="infoButtom";threeDButtomID="threeDButtom";
optionButtomID="optionButtom"}f.prototype.getAttributeById=function(a,c){if(!a)throw" Error Code : 1020 ";var b=this.byId(a),d=null;if(b){attrs=b.attributes;len=attrs.length;for(b=0;b<len;b++)attrs[b].nodeName===c&&(d=attrs[b].nodeValue)}return d};f.prototype.loadXML=function(a){try{var c=new XMLHttpRequest;c.open("GET",a,!1)}catch(b){if("undefined"!=typeof window.ActiveXObject){this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");for(this.xmlDoc.async=!1;4!=this.xmlDoc.readyState;);}else this.xmlDoc=
document.implementation.createDocument("","",null),this.xmlDoc.onload=readXML;this.xmlDoc.load(xmlfile);this.xmlLoaded=!0}this.xmlLoaded||(c.setRequestHeader("Content-Type","text/xml"),c.send(""),this.xmlDoc=c.responseXML,this.xmlLoaded=!0)};f.prototype.getXmlAttr=function(a,c){try{return this.xmlDoc.getElementsByTagName(a)[0].attributes.getNamedItem(c).nodeValue}catch(b){return null}};f.prototype.getXmlNodeContent=function(a){try{return this.xmlDoc.getElementsByTagName(a)[0].textContent}catch(c){return null}};
f.prototype.getNodeValue=function(a,c,b){c=!c?0:intval(c);a=(!b?this.xmlDoc:this.xmlDoc.getElementsByTagName(b)[0]).getElementsByTagName(a)[0].childNodes;b=a.length;return 0<=c&&c<b&&3==a[c].nodeType&&!/^\s+$/.test(a[c].nodeValue)?a[c].nodeValue:null};f.prototype.getNodeName=function(a,c,b){c=!c?0:intval(c);a=(!b?this.xmlDoc:this.xmlDoc.getElementsByTagName(b)[0]).getElementsByTagName(a)[0].childNodes;b=a.length;return 0<=c&&c<b?a[c].nodeName:null};f.prototype.getNodeDate=function(a,c,b){var d,e;
a={};b=(!b?this.xmlDoc:this.xmlDoc.getElementsByTagName(b)[0]).getElementsByTagName(c)[0].childNodes;d=b.length;for(var g=0;g<d;g++)1==b[g].nodeType?0<b[g].childNodes.length&&(e=b[g].nodeName,a[e]=getNodeDate(e,c)):3==childs[g].nodeType&&/^\s+$/.test(childs[g].nodeValue)||(e=b[g].nodeName,a[e]=getNodeDate(e,c));return a};f.prototype.getChildElementsById=function(a,c){if(!a)throw"Error Code : 1002 ";if(!a||!(a.nodeType&&1===a.nodeType))throw"Error Code : 1001 ";if(c)c=c.replace(/^\s+|\s+$/g,"");else throw"Error Code : 1003 ";
for(var b=a.firstChild,d=null;b;){if(1==b.nodeType)if("id"in b&&b.id===c){d=b;break}else if(d=arguments.callee(b,c))break;b=b.nextSibling}return d};f.prototype.byId=function(){try{var a=arguments.length,c=null,b=null,d=null,e=0;if(0<a)for(var g=0;g<a;g++)if("string"===typeof arguments[g]){d=arguments[g].split(/\s+/);e=d.length;if(1<=e)for(var f=0;f<e;f++)if(0==f)b=document.getElementById(d[0].toString());else if(b)b=this.getChildElementsById(b,d[f].toString());else throw" Error : The argument "+arguments[g]+
" is not a valid id or it's type is not a string.";1==a?c=b:c[g]=b}else throw"the argument "+arguments[g]+" is not a valid id or it's type is not a string.";return c}catch(h){this.errorHandler(errorHandlerType,h)}};f.prototype.trim=function(a){return a?a.replace(/^\s+|\s+$/g,""):null};f.prototype.parseDiv=function(a){var c=document.createElement("div");c.innerHTML=a;return c.childNodes};f.prototype.hasClass=function(a,c){a=this.byId(a);c=this.trim(c);var b=a.className;if(!b)throw" Error Code : 1005 ";
return b==c?!0:-1!=a.className.search("\\b"+c+"\\b")};f.prototype.addClass=function(a,c){c=this.trim(c);this.hasClass(a,c)||(a=this.byId(a),a.className&&(c=this.trim(a.className)+" "+c),a.className=c)};f.prototype.removeClass=function(a,c){a=this.byId(a);c=this.trim(c);a.className=a.className.replace(RegExp("\\b"+c+"\\b\\s*","g"),"")};f.prototype.setCss=function(a,c){var b=null;if(a&&"string"==typeof a)b=this.byId(a);else throw" Error Code : 1004 ";for(var d in c){for(var e=d.split("-"),g=d,g=1;g<
e.length;g++)e[g]=e[g].substring(0,1).toUpperCase()+e[g].substring(1);g=e.join("");switch(g){case null:break;default:b&&(b.style[g]=c[d])}}};f.prototype.setFunc=function(a,c){a&&"string"==typeof a&&(a=this.byId(a));if(!a)throw" Error Code : 1006 ";for(var b in c){var d="";a.getAttribute(b)&&(d=a.getAttribute(b));""!=d&&(d+=" ");"string"===typeof c[b]&&a.setAttribute(b,d+c[b])}};f.prototype.setAttributes=function(a,c){try{a&&"string"==typeof a&&(a=this.byId(a));if(!a)throw" Error Code : 1007 ";for(var b in c){var d=
"",e=b;"clas"==e&&(e="class");"fo"==e&&(e="for");a.getAttribute(e)&&(d=a.getAttribute(e));""!=d&&(d+=" ");"string"===typeof c[b]?a.setAttribute(e,d+c[b]):c[b]&&a.setAttribute(e,d+c[b].join(" "))}}catch(g){this.errorHandler(errorHandlerType,g)}};f.prototype.create=function(a){for(var c=a.parentId?this.byId(a.parentId)?this.byId(a.parentId):document.getElementsByTagName("body")[0]:document.getElementsByTagName("body")[0],b=a.type?a.type:"div",d=a.attributes?a.attributes:{},e=a.content?a.content:"",
g=a.repeat?a.repeat:1,f=a.repeatAttr?a.repeatAttr:[],h=0;h<g;h++){var j=document.createElement(b);this.setAttributes(j,d);this.setAttributes(j,f[h]);j.innerHTML=e[h]?e[h]:e;a.notAppend||c.appendChild(j)}1<g&&c.appendChild(this.parseDiv(this.cleanDiv)[0])};f.prototype.setContent=function(a){for(var c=a.length,b=0;b<c;b++){var d=this.byId(a[b].parentId);d&&(d.innerHTML=a[b].content?a[b].content:"")}};f.prototype.msg=function(a,c){var b=document.getElementById(msgContainerID);if(b){g=document.getElementById(msgContentID);
if(!g)throw" Error Code : 1009 ";g.innerHTML=c}else{var d=document.getElementById(playerContainerID),b=document.createElement("div");b.id=msgContainerID;b.className=winContainerClass;b.style.zIndex=this.msgIndex;b.style.position="absolute";b.style.display="none";d.appendChild(b);g=document.createElement("div");g.id=winHeaderID;g.className=winHeaderClass;b.appendChild(g);var e=document.createElement("div");e.id=msgTitleIconID;e.className=winIconClass+" "+msgIconClass;g.appendChild(e);e=document.createElement("div");
e.id=winTitleID;e.className=winTitleClass;e.innerHTML=a;g.appendChild(e);e=document.createElement("div");e.id=msgContainerCloseID;e.className=winCloseClass;g.appendChild(e);var g=document.createElement("div");g.id=winContentID;g.className=winContentClass;b.appendChild(g);e=document.createElement("div");e.id=msgContentID;e.className=winContentClass;e.innerHTML=c;g.appendChild(e);e.style.padding="4px";var f=document.createElement("div");f.id=msgContainerID+winWrapperID;f.className=winWrapperClass;f.style.zIndex=
this.wrapperIndex;d.appendChild(f);f.style.top="0px";f.style.left="0px";f.style.display="none"}f=document.getElementById(msgContainerID+winWrapperID);e=document.getElementById(msgContainerCloseID);if(!e)throw" Error Code : 1010 ";e.addEventListener("click",function(){b.style.display="none";f&&(f.style.display="none")},!1)};f.prototype.buildVote=function(a,c){var b={parentId:playerContainerID,attributes:{id:voteContainerID,clas:voteContainerClass,style:["z-index: "+this.voteIndex]}},d={parentId:voteContainerID,
attributes:{clas:voteButtomClass}};void 0==c&&(c=5);d.repeat=c;d.repeatAttr=[];for(var e=1;e<=c;e++){var g="unstar";e<=a&&(g="star");d.repeatAttr.push({id:"star"+e,clas:g})}this.create(b);this.create(d)};f.prototype.buildBtn=function(a){var c=this;if(!c.byId(a.btnContainerID)){var b={parentId:a.parentID,type:"label",attributes:{id:a.btnContainerID,clas:btnContainerClass,style:["display:block;"],fo:a.btnContainerID+"Input"}},d=null;if("radio"==a.type)d={parentId:a.btnContainerID,type:"input",attributes:{id:a.btnContainerID+
"Input",style:["display:none;"],type:"radio"}};else if("checkbox"==a.type||!a.type)d={parentId:a.btnContainerID,type:"input",attributes:{id:a.btnContainerID+"Input",style:["display:none;"],type:"checkbox"}};a.group&&(d.attributes.name=a.group);a.value&&(d.attributes.value=a.value);var e={parentId:a.btnContainerID,attributes:{id:btnContentID,clas:btnContentClass}},g={parentId:a.btnContainerID,attributes:{id:btnCheckboxID,clas:btnCheckboxClass}};c.create(b);c.create(d);c.create(g);c.create(e);a.checked?
(c.addClass(a.btnContainerID+" "+btnCheckboxID,btnCheckedClass),c.byId(a.btnContainerID+"Input").checked="checked"):c.addClass(a.btnContainerID+" "+btnCheckboxID,btnUncheckedClass);c.byId(a.btnContainerID).appendChild(c.parseDiv(c.cleanDiv)[0]);a.content&&(c.byId(a.btnContainerID+" "+btnContentID).innerHTML=a.content);var f=c.byId(a.btnContainerID+"Input");f&&f.addEventListener("change",function(){if(f.checked){if(c.hasClass(a.btnContainerID+" "+btnCheckboxID,btnUncheckedClass)&&c.removeClass(a.btnContainerID+
" "+btnCheckboxID,btnUncheckedClass),c.hasClass(a.btnContainerID+" "+btnCheckboxID,btnCheckedClass)||c.addClass(a.btnContainerID+" "+btnCheckboxID,btnCheckedClass),"radio"==a.type&&a.group)for(var b=document.getElementsByName(a.group),d=b.length,e=0;e<d;e++)b[e].id!=a.btnContainerID+"Input"&&(c.hasClass(b[e].parentNode.id+" "+btnCheckboxID,btnCheckedClass)&&c.removeClass(b[e].parentNode.id+" "+btnCheckboxID,btnCheckedClass),c.hasClass(b[e].parentNode.id+" "+btnCheckboxID,btnUncheckedClass)||c.addClass(b[e].parentNode.id+
" "+btnCheckboxID,btnUncheckedClass))}else c.hasClass(a.btnContainerID+" "+btnCheckboxID,btnCheckedClass)&&c.removeClass(a.btnContainerID+" "+btnCheckboxID,btnCheckedClass),c.hasClass(a.btnContainerID+" "+btnCheckboxID,btnUncheckedClass)||c.addClass(a.btnContainerID+" "+btnCheckboxID,btnUncheckedClass)})}};f.prototype.buildWin=function(a){var c=this;if(!c.byId(a.winContainerID)){var b={parentId:a.winContainerID,attributes:{id:winHeaderID,clas:winHeaderClass}},d={parentId:a.winContainerID+" "+winHeaderID,
attributes:{},repeat:3,repeatAttr:[{id:a.winTitleIconID,clas:[winIconClass,a.winTitleIconClass]},{id:winTitleID,clas:winTitleClass},{id:a.winContainerCloseID,clas:winCloseClass}]},e={parentId:a.winContainerID,attributes:{id:winContentID,clas:winContentClass,style:["overflow-y: auto; overflow-x: hidden; position: relative; margin: 0 auto;"]}},g={parentId:a.winContainerID+" "+winContentID,attributes:{id:a.winContentID,clas:a.winContentClass}};c.create({parentId:a.parentID,attributes:{id:a.winContainerID,
clas:winContainerClass,style:a.style}});c.create(b);c.create(d);c.create(e);c.create(g);a.title&&(c.byId(a.winContainerID+" "+winTitleID).innerHTML=a.title);a.content&&(c.byId(a.winContainerID+" "+a.winContentID).innerHTML=a.content);c.setCss(a.winContainerID,{display:"none"});(b=c.byId(a.winContainerCloseID))&&b.addEventListener("click",function(){c.setCss(a.winContainerID,{display:"none"});c.switchBtn(a.winBtn,!1)},!1)}};f.prototype.showWin=function(a,c){var b=this.byId(a);c=c?c:"middle";if(!b)throw" Error Code : 1011 ";
this.setCss(a,{display:"block"});this.byId(a+winWrapperID)&&this.setCss(a+winWrapperID,{display:"block"});var d=this.byId(a+" "+winHeaderID);if(!d)throw" Error Code : 1012 ";var e=this.byId(a+" "+winContentID);if(!e)throw" Error Code : 1013 ";this.posWin(msgContainerID,c);this.setCss(a+" "+winContentID,{display:"block",height:90*(b.clientHeight-d.offsetHeight-(e.offsetHeight-e.clientHeight))/b.clientHeight+"%",width:90*(b.clientWidth-(e.offsetWidth-e.clientWidth))/b.clientWidth+"%"})};f.prototype.hiddenWin=
function(a){if(!this.byId(a))throw" Error Code : 1014 ";this.setCss(a,{display:"none"})};f.prototype.switchWin=function(a,c){var b=this.byId(a);c=c?c:"middle";if(b){if("none"!=b.style.display)return this.hiddenWin(a),!1;this.showWin(a,c);return!0}throw" Error Code : 1015 ";};f.prototype.posWin=function(a,c,b,d){var e={};d=d?d:e.width?e.width:this.winWidth;b=b?b:e.height?e.height:this.winHeight;var g=0,f=0,f=0;c=c?c:"middle";"middle"==c?(g=100*(1-d)/2+"%",f=100*(1-b)/2+"%",e={height:100*b+"%",width:100*
d+"%",left:g,top:f}):"bottom"==c&&(this.byId(playerContainerID),d=0.9,b="60%",g=100*(1-d)/2+"%",d=100*d+"%",f=this.byId(controlContainerID).scrollHeight+f+this.lengthUnit,e={width:d,height:b,left:g,bottom:f});this.setCss(a,e)};f.prototype.buildInfoWin=function(a,c){this.buildWin({parentID:playerContainerID,winContainerID:infoContainerID,style:["z-index: "+this.infoIndex],winHeaderID:infoHeaderID,winTitleIconID:infoTitleIconID,winTitleIconClass:infoIconClass,winTitleID:infoTitleID,winContainerCloseID:infoContainerCloseID,
winContentID:infoContentID,winBtn:infoButtomID,title:a,content:c});this.create({parentId:infoContainerID+" "+winContentID,type:"img",attributes:{id:"infoThumbnail",src:this.thumbnail,style:["position : relative;","float : left;","width : 30%;"]}});this.create({parentId:infoContainerID+" "+winContentID,attributes:{},repeat:3,repeatAttr:[{id:"infoTitle",clas:"",style:["position : relative;","float : right;","width : 60%; height : 10%;"]},{id:"infoAuthor",clas:"",style:["position : relative;","float : right;",
"width : 60%; height : 10%;"]},{id:"infoDescription",clas:"",style:["position : relative;","float : right;","width : 60%; height : 40%;"]}]});this.setContent([{parentId:infoContainerID+" infoTitle",content:this.title},{parentId:infoContainerID+" infoAuthor",content:this.author},{parentId:infoContainerID+" infoDescription",content:this.description}]);this.posWin(infoContainerID,"bottom")};f.prototype.buildOptionWin=function(a,c){var b=this;b.buildWin({parentID:playerContainerID,winContainerID:optionContainerID,
style:["z-index: "+b.optionIndex],winHeaderID:optionHeaderID,winTitleIconID:optionTitleIconID,winTitleIconClass:optionTitleIconClass,winTitleID:optionTitleID,winContainerCloseID:optionContainerCloseID,winContentID:optionContentID,winBtn:optionButtomID,title:a,content:c});var d={parentId:optionContentID,type:"fieldset",attributes:{id:"loopFieldset"}},e={parentId:"loopFieldset",type:"legend",content:[b.getLang("optionslooplabel")]};b.create(d);b.create(e);var g={parentID:"loopFieldset",btnContainerID:"loopBtn",
content:b.getLang("optionslooplabel")};b.loop&&(g.checked=b.loop);b.buildBtn(g);var f=b.byId("loopBtnInput");f&&f.addEventListener("change",function(){b.loop=f.checked?!0:!1;b.video.loop=b.loop},!1);d={parentId:optionContentID,type:"fieldset",attributes:{id:"autoLightFieldset"}};e={parentId:"autoLightFieldset",type:"legend",content:[b.getLang("optionsautolightsofflabel")]};b.create(d);b.create(e);g={parentID:"autoLightFieldset",btnContainerID:"autoLightBtn",content:[b.getLang("onofflabel")]};b.autoLightsoff&&
(g.checked=b.autoLightsoff);b.buildBtn(g);var h=b.byId("autoLightBtnInput");h&&h.addEventListener("change",function(){b.autoLightsoff=h.checked?!0:!1},!1);if(b.ratioList){d={parentId:optionContentID,type:"fieldset",attributes:{id:"ratioFieldset"}};e={parentId:"ratioFieldset",type:"legend",content:[b.getLang("aspectratiolabel")]};b.create(d);b.create(e);g={parentID:"ratioFieldset",btnContainerID:"oriRatioBtn",type:"radio",group:"ratioBtns",content:[b.getLang("originalRatiolabel")]};g.checked=null==
b.ratio?!0:!1;b.buildBtn(g);(g=b.byId("oriRatioBtnInput"))&&g.addEventListener("change",function(){this.checked&&(b.ratio=null,b.resize())},!1);d=b.ratioList.length;for(e=0;e<d;e++)g={parentID:"ratioFieldset",btnContainerID:"ratioBtn"+e,type:"radio",group:"ratioBtns",content:b.ratioList[e],value:b.ratioList[e]},g.checked=b.ratio==b.ratioList[e]?!0:!1,b.buildBtn(g),(g=b.byId("ratioBtn"+e+"Input"))&&b.byId("ratioBtn"+e+"Input").addEventListener("change",function(){this.checked&&(b.ratio=this.value,
b.resize())},!1)}b.posWin(optionContainerID,"middle")};f.prototype.buildThreeDWin=function(a,c){var b=this;b.buildWin({parentID:playerContainerID,winContainerID:threeDContainerID,style:["z-index: "+b.threeDIndex],winHeaderID:threeDHeaderID,winTitleIconID:threeDTitleIconID,winTitleIconClass:threeDTitleIconClass,winTitleID:threeDTitleID,winContainerCloseID:threeDContainerCloseID,winContentID:threeDContentID,winBtn:threeDButtomID,title:a,content:c});var d={parentId:threeDContentID,type:"fieldset",attributes:{id:"threeDSwitcherFieldset"}},
e={parentId:"threeDSwitcherFieldset",type:"legend",content:[b.getLang("twoDthreeDlabel")]};b.create(d);b.create(e);d={parentID:"threeDSwitcherFieldset",btnContainerID:"threeDSwitcherBtn",content:[b.getLang("threeDOnOfflabel")]};b.webgl&&(d.checked=b.webgl.get3DMode());b.buildBtn(d);var g=b.byId("threeDSwitcherBtnInput");g&&b.webgl&&g.addEventListener("change",function(){if(g.checked){b.webgl.set3DMode(!0,!1);for(var a=document.getElementsByName("inputFormatBtns"),c=b.webgl.getInputType(),d=0;d<a.length;d++)if(a[d].checked){c=
a[d].value;break}for(var a=document.getElementsByName("effectBtns"),e=b.webgl.getEffectType(),d=0;d<a.length;d++)if(a[d].checked){e=a[d].value;break}b.webgl.setInputType(c,!1);b.webgl.setEffectType(e,!1);b.webgl.set3DMode(!0)}else b.webgl.set3DMode(!1,!1),b.webgl.setInputType(b.webgl.defaultInputType),b.webgl.setEffectType(b.webgl.defaultEffectType),b.webgl.set3DMode(!1);b.resize()},!1);d={parentId:threeDContentID,type:"fieldset",attributes:{id:"threeDInputFormatFieldset"}};e={parentId:"threeDInputFormatFieldset",
type:"legend",content:[b.getLang("videoInputFormatlabel")]};b.create(d);b.create(e);d={parentID:"threeDInputFormatFieldset",btnContainerID:"lrBtn",type:"radio",group:"inputFormatBtns",content:b.getLang("leftRightlabel"),value:"1"};b.webgl&&1==b.webgl.getInputType()&&(d.checked=!0);b.buildBtn(d);var f=b.byId("lrBtnInput");f&&f.addEventListener("change",function(){f.checked&&b.webgl.setInputType(1);b.resize()},!1);d={parentID:"threeDInputFormatFieldset",btnContainerID:"auBtn",type:"radio",group:"inputFormatBtns",
content:b.getLang("aboveUnterlabel"),value:"2"};b.webgl&&2==b.webgl.getInputType()&&(d.checked=!0);b.buildBtn(d);var h=b.byId("auBtnInput");h&&h.addEventListener("change",function(){h.checked&&b.webgl.setInputType(2);b.resize()},!1);d={parentId:threeDContentID,type:"fieldset",attributes:{id:"effectFieldset"}};e={parentId:"effectFieldset",type:"legend",content:[b.getLang("effectlabel")]};b.create(d);b.create(e);d={parentID:"effectFieldset",btnContainerID:"rcBtn",type:"radio",group:"effectBtns",content:b.getLang("redCyanlabel"),
value:"1"};b.webgl&&1==b.webgl.getEffectType()&&(d.checked=!0);b.buildBtn(d);var j=b.byId("rcBtnInput");j&&j.addEventListener("change",function(){j.checked&&b.webgl.setEffectType(1);b.resize()},!1);d={parentID:"effectFieldset",btnContainerID:"hrcBtn",type:"radio",group:"effectBtns",content:b.getLang("redCyanHalfcolorlabel"),value:"9"};b.webgl&&9==b.webgl.getEffectType()&&(d.checked=!0);b.buildBtn(d);var m=b.byId("hrcBtnInput");m&&m.addEventListener("change",function(){m.checked&&b.webgl.setEffectType(9);
b.resize()},!1);d={parentID:"effectFieldset",btnContainerID:"orcBtn",type:"radio",group:"effectBtns",content:b.getLang("redCyanOpticolorlabel"),value:"10"};b.webgl&&10==b.webgl.getEffectType()&&(d.checked=!0);b.buildBtn(d);var p=b.byId("orcBtnInput");p&&p.addEventListener("change",function(){p.checked&&b.webgl.setEffectType(10);b.resize()},!1);d={parentID:"effectFieldset",btnContainerID:"gmBtn",type:"radio",group:"effectBtns",content:b.getLang("greenMagentalabel"),value:"2"};b.webgl&&2==b.webgl.getEffectType()&&
(d.checked=!0);b.buildBtn(d);var l=b.byId("gmBtnInput");l&&l.addEventListener("change",function(){l.checked&&b.webgl.setEffectType(2);b.resize()},!1);d={parentID:"effectFieldset",btnContainerID:"ybBtn",type:"radio",group:"effectBtns",content:b.getLang("yellowBluelabel"),value:"3"};b.webgl&&3==b.webgl.getEffectType()&&(d.checked=!0);b.buildBtn(d);var n=b.byId("ybBtnInput");n&&n.addEventListener("change",function(){n.checked&&b.webgl.setEffectType(3);b.resize()},!1);d={parentID:"effectFieldset",btnContainerID:"rlBtn",
type:"radio",group:"effectBtns",content:b.getLang("rightLeftlabel"),value:"4"};b.webgl&&4==b.webgl.getEffectType()&&(d.checked=!0);b.buildBtn(d);var q=b.byId("rlBtnInput");q&&q.addEventListener("change",function(){q.checked&&b.webgl.setEffectType(4);b.resize()},!1);d={parentID:"effectFieldset",btnContainerID:"uaBtn",type:"radio",group:"effectBtns",content:b.getLang("unterAbovelabel"),value:"5"};b.webgl&&5==b.webgl.getEffectType()&&(d.checked=!0);b.buildBtn(d);var r=b.byId("uaBtnInput");r&&r.addEventListener("change",
function(){r.checked&&b.webgl.setEffectType(5);b.resize()},!1);d={parentID:"effectFieldset",btnContainerID:"ciBtn",type:"radio",group:"effectBtns",content:b.getLang("columnInterleavedlabel"),value:"6"};b.webgl&&6==b.webgl.getEffectType()&&(d.checked=!0);b.buildBtn(d);var s=b.byId("ciBtnInput");s&&s.addEventListener("change",function(){s.checked&&b.webgl.setEffectType(6);b.resize()},!1);d={parentID:"effectFieldset",btnContainerID:"riBtn",type:"radio",group:"effectBtns",content:b.getLang("rowInterleavedlabel"),
value:"7"};b.webgl&&7==b.webgl.getEffectType()&&(d.checked=!0);b.buildBtn(d);var t=b.byId("riBtnInput");t&&t.addEventListener("change",function(){t.checked&&(b.webgl.setEffectType(7),b.resize())},!1);d={parentID:"effectFieldset",btnContainerID:"tsBtn",type:"radio",group:"effectBtns",content:b.getLang("timeForSpacelabel"),value:"8"};b.webgl&&8==b.webgl.getEffectType()&&(d.checked=!0);b.buildBtn(d);var u=b.byId("tsBtnInput");u&&u.addEventListener("change",function(){u.checked&&(b.webgl.setEffectType(8),
b.resize())},!1);d={parentId:threeDContentID,type:"fieldset",attributes:{id:"swapFieldset"}};e={parentId:"swapFieldset",type:"legend",content:[b.getLang("swapLeftRightlabel")]};b.create(d);b.create(e);d={parentID:"swapFieldset",btnContainerID:"swapBtn",content:b.getLang("swapLeftRightlabel")};b.webgl&&!1==b.webgl.getSeqType()&&(d.checked=!0);b.buildBtn(d);var v=b.byId("swapBtnInput");v&&v.addEventListener("change",function(){v.checked?b.webgl.setSeqType(!1):b.webgl.setSeqType(!0);b.resize()},!1);
b.posWin(threeDContainerID,"middle")};f.prototype.buildStatus=function(){var a={parentId:statusContainerID,attributes:{id:videoStatusContainerID,clas:videoStatusContainerClass}},c={parentId:videoStatusContainerID,attributes:{id:videoStatusID,clas:[statusButtomClass,playStatusClass]}};this.create({parentId:playerContainerID,attributes:{id:statusContainerID,clas:statusContainerClass,style:["z-index: "+this.statusIndex]}});this.create(a);this.create(c);this.posWin(videoStatusContainerID,"middle",0.2,
0.2)};f.prototype.buildCanvas=function(){this.create({parentId:playerContainerID,type:"video",attributes:{id:videoElementID,style:["display: none;"],height:this.height+this.lengthUnit+";",width:this.width+this.lengthUnit+";"}});this.video=this.byId(videoElementID);this.create({parentId:playerContainerID,type:"canvas",attributes:{id:canvasElementID,style:["position: relative; margin:0 auto;  border: 0"+this.lengthUnit+";"],height:this.height+this.lengthUnit+";",width:this.width+this.lengthUnit+";"}});
if(this.threeDMode&&this.webglSupport()){try{this.webgl=__}catch(a){this.errorHandler(errorHandlerType,"please check if the necessary javascript library included.")}this.webgl?this.webgl.init(canvasElementID,videoElementID):this.threeDMode=!1}};f.prototype.updateFrame=function(){if(this.threeDMode)return this.webgl.drawScene();var a=this.video,c=this.context;return c?(c.drawImage(a,0,0,this.width,this.height),!0):!1};f.prototype.getThumbnail=function(){var a=this,c=a.context,b=new Image;c&&(b.onload=
function(){a.threeDMode?a.webgl.drawScene(b):c.drawImage(b,0,0,a.width,a.height)},b.src=a.thumbnail)};f.prototype.setVideoSrc=function(a,c){var b=c?c.length:0;if(0<b){var d={parentId:a,type:"source",attributes:{},repeat:0,repeatAttr:[]};d.repeat=b;for(var e=0;e<b;e++)d.repeatAttr[e]={src:c[e]};this.create(d)}};f.prototype.buildControl=function(){this.create({parentId:playerContainerID,attributes:{id:controlContainerID,clas:controlContainerClass,style:["z-index:"+this.controlIndex+";"]}})};f.prototype.buildProgressbar=
function(){var a={parentId:progressbarContainerID,attributes:{id:slideTimeID,style:"position: absolute;,background: #fff;,font-size: 9px;,bottom: 13px;,padding: 2px;,display: none;,border: 1px solid #000;".split(",")},content:["00:00"]},c={parentId:progressbarContainerID,attributes:{id:progressbarBgID,clas:progressbarBgClass}},b={parentId:progressbarBgID,attributes:{id:downloadProgresbarID,clas:downloadProgresbarClass}},d={parentId:downloadProgresbarID,attributes:{id:playProgressbarID,clas:playProgressbarClass}};
this.create({parentId:controlContainerID,attributes:{id:progressbarContainerID,clas:progressbarContainerClass}});this.create(a);this.create(c);this.create(b);this.create(d)};f.prototype.elePos=function(a){a=this.byId(a);for(var c=a.offsetLeft;a=a.offsetParent;)c+=a.offsetLeft;return c};f.prototype.setFrameRate=function(a){this.framerate=a};f.prototype.getFrameNumber=function(a){return Math.floor(a*this.framerate)};f.prototype.seek=function(a,c){var b=this.byId(progressbarBgID),d=document.documentElement.scrollLeft||
document.body.scrollLeft,d=a.pageX||a.clientX+d,d=d-this.elePos(progressbarBgID),d=0>d?0:d>b.scrollWidth?b.scrollWidth:d,b=d/b.scrollWidth,b=1<b?this.durationTime:b*this.durationTime,e=this.video?this.video:this.byId(videoElementID);void 0==c&&(e&&0!=e.readyState)&&(e.currentTime=b);this.setCss(slideTimeID,{left:d,display:"block"});this.setContent([{parentId:slideTimeID,content:this.parseTime(b,!0)}])};f.prototype.updateDownloadProgressbar=function(){var a=this.video?this.video:this.byId(videoElementID),
c=a.currentTime,b=this.durationTime;if(a=a.buffered){this.byId(progressbarBgID);for(var d=a.length,e=0;e<d;e++){var g=a.start(e),f=a.end(e);if(c>=g&&c<=f){this.setCss(downloadProgresbarID,{width:100*((f-g)/b)+"%",left:100*(g/b)+"%"});break}}}};f.prototype.updatePlayProgressbar=function(){var a=this.video?this.video:this.byId(videoElementID),c=a.currentTime;if(a=a.buffered)for(var b=a.length,d=0;d<b;d++){var e=a.start(d),g=a.end(d);if(c>=e&&c<=g){this.setCss(playProgressbarID,{width:100*((c-e)/(g-
e))+"%"});break}}};f.prototype.buildControlBench=function(){this.create({parentId:controlContainerID,attributes:{id:controlBenchID,clas:controlBenchClass}});this.create({parentId:controlBenchID,attributes:{},repeat:4,repeatAttr:[{id:controlButtomID,clas:[controlButtomClass,playButtomClass]},{id:soundContainerID,clas:soundContainerClass},{id:timeContainerID,clas:timeContainerClass},{id:functionContainerID,clas:functionContainerClass}]});var a={parentId:volumeContainerID,attributes:{id:volumeProgressbarID,
clas:volumeProgressbarClass}},c={parentId:soundContainerID,attributes:{id:slideVolumeID,style:"position: absolute;,background: #fff;,font-size: 9px;,bottom: 18px;,padding: 2px;,display: none;,border: 1px solid #000;".split(",")},content:["00"]};this.create({parentId:soundContainerID,attributes:{},repeat:2,repeatAttr:[{id:soundButtomID,clas:soundButtomClass},{id:volumeContainerID,clas:volumeContainerClass}]});this.create(a);this.create(c);a={parentId:timeContainerID,attributes:{},content:[this.parseTime(this.durationTime),
"-",this.parseTime(this.playedTime)],repeat:3,repeatAttr:[{id:durationTimeID,clas:textClass},{id:timeSepraterID,clas:textClass},{id:playedTimeID,clas:textClass}]};this.create(a);a={parentId:functionContainerID,attributes:{},repeat:5,repeatAttr:[]};this.showLightsbutton&&a.repeatAttr.push({id:lightButtomID,clas:[controlButtomClass,funcLightButtomClass]});this.showInfoButton&&a.repeatAttr.push({id:infoButtomID,clas:[controlButtomClass,funcInfoButtomClass]});this.showFullScreenButton&&a.repeatAttr.push({id:fullScreenButtomID,
clas:[controlButtomClass,funcFullScreenOnButtomClass]});this.threeDMode&&a.repeatAttr.push({id:threeDButtomID,clas:[controlButtomClass,funcThreeDButtomClass]});this.showOptionButton&&a.repeatAttr.push({id:optionButtomID,clas:[controlButtomClass,funcOptionButtomClass]});this.create(a)};f.prototype.wrapperMask=function(a,c,b){var d=this,e=d.byId(a),g=a+"mask";if((a=d.byId(g))&&!b)return e.style.zIndex=d.zIndex,a.parentNode.removeChild(a),!1;a||(b=document.createElement("div"),d.setAttributes(b,{id:g,
clas:wrapperClass}),e.style.zIndex=10001,b.style.zIndex=1E4,b.onclick=function(){var a=d.byId(g);a.parentNode.removeChild(a);d.switchBtn(c,!1)},e.parentNode.appendChild(b));d.switchBtn(c,!0);return!0};f.prototype.resize=function(a){var c=this.byId(playerContainerID),b=this.canvas,d=this.video;"fullscreen"==a&&(a=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?"expand":"collapse");this.setSize();"expand"==a?(c.style.width="100%",c.style.height="100%",b.width=this.width,b.height=
this.height,this.hasClass(fullScreenButtomID,funcFullScreenOffButtomClass)||this.addClass(fullScreenButtomID,funcFullScreenOffButtomClass),this.hasClass(fullScreenButtomID,funcFullScreenOnButtomClass)&&this.removeClass(fullScreenButtomID,funcFullScreenOnButtomClass)):"collapse"==a?(c.style.width="100%",c.style.height="100%",b.width=this.width,b.height=this.height,this.hasClass(fullScreenButtomID,funcFullScreenOffButtomClass)&&this.removeClass(fullScreenButtomID,funcFullScreenOffButtomClass),this.hasClass(fullScreenButtomID,
funcFullScreenOnButtomClass)||this.addClass(fullScreenButtomID,funcFullScreenOnButtomClass)):(c.style.width="100%",c.style.height="100%",b.width=this.width,b.height=this.height);this.posCanvas();this.threeDMode&&this.webgl.setGLViewport(b);0==this.played||d.ended?this.getThumbnail():this.updateFrame();(a=this.byId(msgContainerID))&&"none"!=a.style.display&&this.showWin(msgContainerID,"middle");(a=this.byId(infoContainerID))&&"none"!=a.style.display&&this.showWin(infoContainerID,"bottom");(a=this.byId(threeDContainerID))&&
"none"!=a.style.display&&this.showWin(threeDContainerID,"middle");(a=this.byId(optionContainerID))&&"none"!=a.style.display&&this.showWin(optionContainerID,"middle")};f.prototype.fullScreen=function(){var a=this.byId(playerContainerID);a.requestFullScreen?document.fullScreen?document.exitFullScreen():a.requestFullscreen():a.mozRequestFullScreen?document.mozFullScreen?document.mozCancelFullScreen():a.mozRequestFullScreen():a.webkitRequestFullScreen&&(document.webkitIsFullScreen?document.webkitCancelFullScreen():
a.webkitRequestFullScreen())};f.prototype.updatePlayerStatus=function(a){"ended"==a||"paused"==a?this.hasClass(videoStatusID,playStatusClass)||(this.addClass(videoStatusID,playStatusClass),this.setCss(videoStatusContainerID,{display:"block"})):this.hasClass(videoStatusID,playStatusClass)&&(this.removeClass(videoStatusID,playStatusClass),this.setCss(videoStatusContainerID,{display:"none"}))};f.prototype.changeVolume=function(a){var c=this.byId(volumeContainerID),b=document.documentElement.scrollLeft||
document.body.scrollLeft;a=a.pageX||a.clientX+b;a-=this.elePos(volumeContainerID);a=0>a?0:a>c.scrollWidth?c.scrollWidth:a;c=a/c.scrollWidth;c=1<c?1:0>c?0:c;b=this.byId(soundButtomID);this.setCss(slideVolumeID,{display:"block",left:a+b.scrollWidth});a=Math.round(100*c)+"";this.setContent([{parentId:slideVolumeID,content:a}]);(this.video?this.video:this.byId(videoElementID)).volume=c;this.updateVolume()};f.prototype.updateVolume=function(){var a=this.video?this.video:this.byId(videoElementID);this.byId(soundButtomID);
var c=this.byId(volumeContainerID),b=this.byId(volumeProgressbarID),a="number"==typeof a.volume?a.volume:this.sound,c=a*c.scrollWidth;b.scrollWidth!=c&&this.setCss(volumeProgressbarID,{width:c+this.lengthUnit});b=[];"string"==typeof volumeButtomClass?b.push(volumeButtomClass):b=volumeButtomClass;for(var c=b.length-1,c=1>c?1:c,d=1/c,e=0,g=0;g<c;g++){var f=g*d;if(a>f)e=g+1;else if(a==f)e=g;else break}c=b.length;e=e>c?c:e;for(g=0;g<b.length;g++)g==e?this.hasClass(soundButtomID,b[g])||this.addClass(soundButtomID,
b[g]):this.hasClass(soundButtomID,b[g])&&this.removeClass(soundButtomID,b[g])};f.prototype.buildPlayer=function(){this.create({parentId:this.parentID,attributes:{id:playerContainerID,clas:playerContainerClass,style:["height: 100%;","width: 100%;","z-index:"+this.zIndex+";"]}})};f.prototype.setFps=function(a){a&&(a=parseInt(a),30<a&&(a=30),0>a&&(a=1),this.playbackRate=Math.ceil(1E3/a))};f.prototype.initPlayer=function(a){try{var c="",b=a.width?parseFloat(a.width):this.width,d=a.height?parseFloat(a.height):
this.height,e=void 0==a.threeDMode?a.threeDMode:this.threeDMode,g=a.xmlUrl?a.xmlUrl:"",f=a.parentId?a.parentId:"document.body",h=a.langJson?a.langJson:null,j=a.cssJson?a.cssJson:null;a.fps&&this.setFps(a.fps);this.framerate=a.framerate?parseInt(a.framerate):0;this.sound=a.volume?parseFloat(a.volume):this.sound;this.videoSupport()||(c+="<br />Your Broswer do not support the HTML5 Video Tag.");this.canvasSupport()||(c+="<br />Your Broswer do not support the HTML5 Canvas Tag.");this.threeDMode=e;this.loadXML(g);
this.init(b,d,f);this.initLangJson(h);this.initCssJson(j);this.buildPlayer();this.setSize();this.buildCanvas();this.posCanvas();this.buildStatus();this.buildControl();this.buildProgressbar();this.buildControlBench();this.setVideoSrc(videoElementID,this.videoSrc);if(""==c)return this.ready(),this.getThumbnail(),this.updateVolume(),!0;throw c;}catch(m){return!1}};f.prototype.posCanvas=function(){var a=this.byId(playerContainerID),c=a.clientWidth,a=a.clientHeight,b=this.byId(canvasElementID);b&&(b.style.top=
(a-this.height)/2+this.lengthUnit,b.style.left=(c-this.width)/2+this.lengthUnit)};f.prototype.setSize=function(){this.width=this.oriWidth;this.height=this.oriHeight;ratio=this.ratio?eval(this.ratio):this.oriWidth/this.oriHeight;var a=this.byId(playerContainerID),c=a.clientWidth,b=a.clientHeight,d=a=0;b>=this.oriHeight&&c<this.oriWidth?(a=c/this.oriWidth*this.oriHeight,d=c):b<this.oriHeight&&c>=this.oriWidth?(d=b/this.oriHeight*this.oriWidth,a=b):(d=b/this.oriHeight*this.oriWidth,d>c?(a=c/this.oriWidth*
this.oriHeight,d=c):a=b);var b=a,e=d,e=a*ratio;e>c?(b=d/ratio,e=d):b=a;this.width=e;this.height=b};f.prototype.getEval=function(a,c){if("bool"==c){if("true"==a)return!0;if("false"==a)return!1}else return"number"==c?parseInt(a):"float"==c?parseFloat(a):a};f.prototype.init=function(a,c,b){this.oriWidth=a;this.oriHeight=c;this.parentID=b?b:null;this.loop=this.getEval(this.getXmlNodeContent("loop"),"bool");this.allowFullScreen=this.getEval(this.getXmlNodeContent("allowfullscreen"),"bool");this.autoload=
this.getEval(this.getXmlNodeContent("autoload"),"bool");this.autoplay=this.getEval(this.getXmlNodeContent("autoplay"),"bool");this.showFullScreenButton=this.getEval(this.getXmlNodeContent("showfullscreenbutton"),"bool");this.showInfoButton=this.getEval(this.getXmlNodeContent("showinfobutton"),"bool");this.showRating=this.getEval(this.getXmlNodeContent("showrating"),"bool");this.showlightsbutton=this.getEval(this.getXmlNodeContent("showlightsbutton"),"bool");this.showOptionButton=this.getEval(this.getXmlNodeContent("showoptionbutton"),
"bool");this.videoSrc=[this.getXmlNodeContent("file")];this.thumbnail=this.getXmlNodeContent("description_pic");this.title=this.getXmlNodeContent("title");this.author=this.getXmlNodeContent("author");this.description=this.getXmlNodeContent("description");this.id=this.getXmlNodeContent("id");this.key=this.getXmlNodeContent("key");this.lightsoffEnabled=this.getEval(this.getXmlNodeContent("lightsoffenabled"),"bool");this.autoLightsoff=this.getEval(this.getXmlNodeContent("autolightsoff"),"bool")};f.prototype.checkVideoSrc=
function(a){try{if(a){for(var c=a.length,b=!1,d=0;d<c;d++){if(!a[d])throw this.getLang("noAvaliVideolabel");var e=a[d].replace(/(\\+)/g,"#").split("#"),g=e[e.length-1].split("."),f=g[g.length-1],f=f.toLowerCase();"ogv"==f&&(f="ogg");if(this.videoFormatSupport("video/"+f)){b=!0;break}}if(b){if(!this.video.currentSrc||3==this.video.networkState)throw this.getLang("notFoundVideo");}else throw this.getLang("notSupportForamtlabel");return b}throw this.getLang("noAvaliVideolabel");}catch(h){this.errorHandler(errorHandlerType,
h)}};f.prototype.getLang=function(a){return a?this.lang[a]?this.lang[a]:a:" "};f.prototype.initCssJson=function(a){if(a){var c="",b;for(b in a)c="string"==typeof a[b]?b+' = "'+a[b]+'";':"object"==typeof a[b]?b+" = ["+a[b]+"];":"",eval(c)}};f.prototype.initLangJson=function(a){if(a)for(var c in a)this.lang[c]=a[c]};f.prototype.parseTime=function(a,c){a=a?parseInt(a):0;var b=parseInt(a/3600),d=parseInt(a%3600/60),e=parseInt(a-3600*b-60*d);return(c?0>=b?"":1<=b/10?b+":":"0"+b+":":1<=b/10?b+":":"0"+b+
":")+(1<=d/10?d:"0"+d)+":"+(1<=e/10?e:"0"+e)};f.prototype.supportedVideoFormat=function(){var a="";if("probably"==video.canPlayType("video/webm")||"maybe"==video.canPlayType("video/webm"))a="webm";else if("probably"==video.canPlayType("video/mp4")||"maybe"==video.canPlayType("video/mp4"))a="mp4";else if("probably"==video.canPlayType("video/ogg")||"maybe"==video.canPlayType("video/ogg"))a="ogg";return a};f.prototype.canvasSupport=function(){return!!document.createElement("canvas").getContext};f.prototype.webglSupport=
function(){if(this.canvasSupport()){if(document.createElement("canvas").getContext("webgl")||document.createElement("canvas").getContext("experimental-webgl"))return!0;!1}else return!1};f.prototype.videoSupport=function(){return!!document.createElement("video").canPlayType};f.prototype.videoFormatSupport=function(a){if(!this.videoSupport())return!1;a=document.createElement("video").canPlayType(a);return"probably"==a||"maybe"==a?!0:!1};f.prototype.stopBubble=function(a){a&&a.stopPropagation?a.stopPropagation():
window.event.cancelBubble=!0};f.prototype.ready=function(){try{var a=this;a.webglSupport()||(a.threeDMode=!1);a.canvas=a.byId(canvasElementID);var c=a.canvas;a.context=a.threeDMode?c.getContext("webgl")||c.getContext("experimental-webgl"):c.getContext("2d");var b=a.byId(playerContainerID);if(b&&a.byId(controlContainerID)){var d=null;b.addEventListener("mouseout",function(){clearTimeout(d);d=window.setTimeout(function(){a.setCss(controlContainerID,{display:"none"})},2E3)});b.addEventListener("mousemove",
function(){clearTimeout(d);a.setCss(controlContainerID,{display:"block"});d=window.setTimeout(function(){a.setCss(controlContainerID,{display:"none"})},2E3)})}var e=a.video?a.video:a.byId(videoElementID);e.addEventListener("loadedmetadata",function(){a.durationTime=e.duration;var b=[{parentId:durationTimeID,content:a.parseTime(a.durationTime)}];a.setContent(b);e.loop=a.loop?"loop":"";e.preload=a.autoload?"load":"meta";e.muted=a.playedWithMute?a.playedWithMute:!1;e.volume=a.sound?a.sound:1;a.updateVolume()},
!1);e.addEventListener("play",function(){if(!a.checkVideoSrc(a.videoSrc)||a.threeDMode&&a.webgl&&!a.webgl.getStatus())return e.pause(),!1;a.drawTimer=window.setInterval(function(){a.updateFrame()||e.pause()},a.playbackRate);a.autoLightsoff&&a.lightsoffEnabled&&a.wrapperMask(playerContainerID,lightButtomID,!0);a.hasClass(controlButtomID,pauseButtomClass)||a.addClass(controlButtomID,pauseButtomClass);a.hasClass(controlButtomID,playButtomClass)&&a.removeClass(controlButtomID,playButtomClass)},!1);e.addEventListener("playing",
function(){a.played++;a.hasClass(controlButtomID,pauseButtomClass)||a.addClass(controlButtomID,pauseButtomClass);a.hasClass(controlButtomID,playButtomClass)&&a.removeClass(controlButtomID,playButtomClass)},!1);e.addEventListener("pause",function(){window.clearInterval(a.drawTimer);a.drawTimer=null;a.updatePlayerStatus("paused");a.hasClass(controlButtomID,pauseButtomClass)&&a.removeClass(controlButtomID,pauseButtomClass);a.hasClass(controlButtomID,playButtomClass)||a.addClass(controlButtomID,playButtomClass)},
!1);e.addEventListener("ended",function(){window.clearInterval(a.drawTimer);a.getThumbnail();a.updatePlayerStatus("ended")},!1);e.addEventListener("timeupdate",function(){a.currentTime=e.currentTime;a.setContent([{parentId:playedTimeID,content:a.parseTime(a.currentTime)}]);a.updateDownloadProgressbar();a.updatePlayProgressbar()},!1);e.addEventListener("playing",function(){a.updatePlayerStatus("playing")},!1);e.addEventListener("volumechange",function(){a.updateVolume()},!1);e.addEventListener("progress",
function(){a.updateDownloadProgressbar();a.updatePlayProgressbar()},!1);e.addEventListener("suspend",function(){a.updateDownloadProgressbar();a.updatePlayProgressbar()},!1);e.addEventListener("waiting",function(){});e.addEventListener("stalled",function(){throw this.getLang("noAvaliVideolabel");},!1);e.addEventListener("abort",function(){throw this.getLang("noAvaliVideolabel");},!1);e.addEventListener("error",function(){throw this.getLang("unknownErrorlabel");},!1);e.addEventListener("seeked",function(){a.updateFrame();
a.updateDownloadProgressbar();a.updatePlayProgressbar()});var f=a.byId(statusContainerID);f&&(f.addEventListener("click",function(){a.eventTimer&&clearTimeout(a.eventTimer);a.eventTimer=window.setTimeout(function(){var b=a.byId(controlButtomID);b&&b.click()},200)},!1),f.addEventListener("dblclick",function(){window.clearTimeout(a.eventTimer);a.eventTimer=null;var b=a.byId(fullScreenButtomID);b&&b.click()},!1));var k=a.byId(progressbarBgID);k.addEventListener("click",function(b){a.seek(b)},!1);k.addEventListener("mousedown",
function(){window.document.onmousemove=function(b){a.seek(b)};window.document.onmouseup=function(){window.document.onmousemove=null}},!1);k.addEventListener("mousemove",function(b){a.setCss(slideTimeID,{display:"block"});var c=a.byId(slideTimeID),d=c.offsetWidth,e=document.documentElement.scrollLeft||document.body.scrollLeft;b=b.pageX||b.clientX+e;e=0;b+d>=document.documentElement.scrollWidth?e-=d:0>c.scrollLeft&&(e+=d);b-=a.elePos(progressbarBgID);b=0>b?0:b>k.scrollWidth?k.scrollWidth:b;c=b/k.scrollWidth;
c=1<c?a.durationTime:c*a.durationTime;a.setCss(slideTimeID,{left:e+b});a.setContent([{parentId:slideTimeID,content:a.parseTime(c,!0)}])});k.addEventListener("mouseout",function(){a.setCss(slideTimeID,{display:"none"})});document.addEventListener("mouseup",function(){a.setCss(slideTimeID,{display:"none"});a.setCss(slideVolumeID,{display:"none"})});a.byId(controlButtomID).addEventListener("click",function(){e.paused||e.ended?e.play():e.pause()},!1);a.byId(soundButtomID).addEventListener("click",function(){0==
e.volume||!0==e.muted?e.volume=a.sound?a.sound:0.6:(a.sound=e.volume,e.volume=0)},!1);var h=a.byId(volumeContainerID);h.addEventListener("click",function(b){a.changeVolume(b)},!1);h.addEventListener("mousedown",function(){window.document.onmousemove=function(b){a.changeVolume(b)};window.document.onmouseup=function(){window.document.onmousemove=null}},!1);h.addEventListener("mousemove",function(b){a.setCss(slideVolumeID,{display:"block"});var c=document.documentElement.scrollLeft||document.body.scrollLeft;
b=b.pageX||b.clientX+c;b-=a.elePos(volumeContainerID);b=0>b?0:b>h.scrollWidth?h.scrollWidth:b;var c=b/h.scrollWidth,c=1<c?1:0>c?0:c,d=a.byId(soundButtomID);a.setCss(slideVolumeID,{display:"block",left:b+d.scrollWidth});b=Math.round(100*c)+"";a.setContent([{parentId:slideVolumeID,content:b}])});h.addEventListener("mouseout",function(){a.setCss(slideVolumeID,{display:"none"})});a.allowFullScreen&&a.byId(fullScreenButtomID).addEventListener("click",function(){a.fullScreen()},!1);document.addEventListener("fullscreenchange",
function(){a.resize("fullscreen")},!1);document.addEventListener("mozfullscreenchange",function(){a.resize("fullscreen")},!1);document.addEventListener("webkitfullscreenchange",function(){a.resize("fullscreen")},!1);a.lightsoffEnabled&&a.byId(lightButtomID).addEventListener("click",function(){a.switchBtn(lightButtomID,a.wrapperMask(playerContainerID,lightButtomID))},!1);a.showInfoButton&&(a.buildInfoWin(a.getLang("infoWinTitle"),""),a.byId(infoButtomID).addEventListener("click",function(){a.switchBtn(infoButtomID,
a.switchWin(infoContainerID));a.resize()},!1));a.threeDMode&&(a.buildThreeDWin(a.getLang("threeDWinTitle"),""),a.byId(threeDButtomID).addEventListener("click",function(){a.switchBtn(threeDButtomID,a.switchWin(threeDContainerID));a.resize()},!1));a.showOptionButton&&(a.buildOptionWin(a.getLang("optionWinTitle"),""),a.byId(optionButtomID).addEventListener("click",function(){a.switchBtn(optionButtomID,a.switchWin(optionContainerID));a.resize()},!1))}catch(j){this.errorHandler(errorHandlerType,j)}};f.prototype.switchBtn=
function(a,c){c?this.setCss(a,{opacity:"0.5",filter:"alpha(opacity=50)"}):this.setCss(a,{opacity:"1.0",filter:"alpha(opacity=100)"})};f.prototype.errorHandler=function(a,c,b){try{a||(a=!errorHandlerType?0:errorHandlerType);var d="";c&&("object"==typeof c?(c.line&&(d+=" - line : "+c.line),c.lineNumber&&(d+=" - line : "+c.lineNumber),c.message&&(d+=" - Message : "+c.message)):d+=" - Message : "+c);b&&(d+=b);var e=new Date;if(!e)throw"Initailize the Date()-Object failed.";var f="!Error!<br /> -Time : "+
e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+"  "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),f=f+("<br />"+d);0==a?alert(f):1==a&&(console.log(f),this.msg("Error",f),this.showWin(msgContainerID,"middle"));return!1}catch(k){alert(arguments.callee.name+" - line : "+k.line+" - message : "+k.message)}};f.prototype.a=function(a,c,b,d,e){try{var f=this,k="";if(!b||"post"!=b.toLowerCase()&&"get"!=b.toLowerCase())b="get";if(!c||c instanceof Object)c={};!1!=e&&!0!=e&&(e=!0);var h;h=!1!=d&&
!0!=d?!0:!0==d?!0:!1;if("undefined"==typeof jQuery){var j;d="";try{j=new XMLHttpRequest}catch(m){try{j=new ActiveXObject("Microsoft.XMLHTTP")}catch(p){return f.errorHandler(errorHandlerType,"Your browser does not support XMLHTTP!"),null}}for(var l in c)if("function"==typeof c[l])c[l]();else d+=l+"="+c[l]+"&";"get"==b&&("undefined"!==d&&null!=d&&(a+="?"+d),d=null);j.onreadystatechange=function(){4==j.readyState&&200==j.status&&(k=j.responseText)};j.open(b,a,h);j.send(d)}else $.ajax({type:b,url:a,async:d,
data:c,beforeSend:function(){},success:function(a){k=a},complete:function(){},error:function(){f.errorHandler(errorHandlerType,"ajax error");return null}});return k}catch(n){this.errorHandler(errorHandlerType,n)}};window._=new f})();